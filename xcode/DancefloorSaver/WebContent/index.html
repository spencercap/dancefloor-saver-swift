<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dancefloor Saver</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        z-index: -1;
      }

      h1, p {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        color: grey;
        z-index: 99999;
      }
    </style>
    <script type="importmap">
      {
        "imports": {
          "dat.gui": "./dat.gui@0.7.9-esm.js",
          "three": "./three@0.169.0-esm.js"
        }
      }
    </script>
    <!-- <script type="module" crossorigin src="/assets/index.js"></script> -->
     <script type="module" crossorigin src="./index.js"></script>
  </head>
  <body>
      <h1>gare</h1>
    <div id="app"></div>

    <script>
      let pEl = document.createElement("p");
      pEl.innerHTML = "skeet";
      document.body.appendChild(pEl);
      let count = 0;

      window.skeetIt = function() {
        console.log('skeetIt');
        pEl.innerHTML = `skeet ${count}`;
        count++;
      }

      // This function will be called by the screen saver on each animation frame
      window.screenSaverTick = function(count) {
          console.log('Screen saver tick: ' + count);
          // You could update a counter on screen to visually confirm updates
          if (document.getElementById('tickCounter')) {
              document.getElementById('tickCounter').textContent = count;
          }
      };
      
      // Optional: Add a visual counter to your page
      document.addEventListener('DOMContentLoaded', function() {
          const counter = document.createElement('div');
          counter.id = 'tickCounter';
          counter.style.position = 'absolute';
          counter.style.top = '10px';
          counter.style.right = '10px';
          counter.style.background = 'rgba(0,0,0,0.5)';
          counter.style.color = 'white';
          counter.style.padding = '5px';
          counter.style.zIndex = '9999';
          document.body.appendChild(counter);
      });

      // setInterval(function() {
      //   window.skeetIt();
      // }, 500);
  </script>
  </body>
</html>
